client_max_body_size 100m;

server
{
        listen 80;

        root /www/public;
        index index.php;

        server_name localhost;

        location / {
                try_files $uri $uri/ /index.php?$args;
        }

        location ~* \.(js|css|ttf|svg|xml)$
        {
                gzip on;
                gzip_http_version 1.1;
                gzip_vary on;
                gzip_comp_level 6;
                gzip_proxied any;
                gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/javascript text/x-js application/vnd.ms-fontobject application/x-font-ttf font/opentype image/svg+xml image/x-icon;
                gzip_buffers 16 8k;
                gzip_disable "MSIE [1-6]\.(?!.*SV1)";
        }

        location ~ \.php$ {
                include snippets/fastcgi-php.conf;
                fastcgi_pass unix:/run/php/php7.2-fpm.sock;
        }
}
